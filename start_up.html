<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
    <style>
      body {
        margin: 0px;
        padding: 0px;
        background: url(image/hand_02.jpg) no-repeat;
        position: relative;
        min-height: 600px;
      }
      #container { 
        position: absolute;
        top: 250px;
        left: 250px;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script src="js/kinetic.js"></script>
    <script defer="defer">
      var stage = new Kinetic.Stage({
        container: 'container',
        width: 568,
        height: 320
      });

/*
      var layer = new Kinetic.Layer();

      var rect = new Kinetic.Rect({
        x: 75,
        y: 75,
        width: 100,
        height: 50,
        fill: 'green',
        stroke: 'black',
        strokeWidth: 4
      });

      var rect2 = new Kinetic.Rect({
        x: 200,
        y: 75,
        width: 20,
        height: 20,
        fill: 'red',
        stroke: '',
        strokeWidth: 0
      });

      // add the shape to the layer
      layer.add(rect);
      layer.add(rect2);



      // add the layer to the stage
      stage.add(layer);


*/


      var shapesLayer = new Kinetic.Layer();

      /*
       * create a group which will be used to combine
       * multiple simple shapes.  Transforming the group will
       * transform all of the simple shapes together as
       * one unit
       */
      var group = new Kinetic.Group({
        x: 220,
        y: 40,
        rotationDeg: 20
      });

      var colors = ['red', 'orange', 'yellow'];

      for(var n = 0; n < 3; n++) {
        // anonymous function to induce scope
        (function() {
          var i = n;
          var box = new Kinetic.Rect({
            x: i * 30,
            y: i * 18,
            width: 100,
            height: 50,
            name: colors[i],
            fill: colors[i],
            stroke: 'black',
            strokeWidth: 4
          });

          group.add(box);
        })();
      }

      shapesLayer.add(group);
      stage.add(shapesLayer);

      var amplitude = 150;
      var period = 2000;
      // in ms
      var centerX = stage.getWidth() / 2;

      var anim = new Kinetic.Animation(function(frame) {
        group.setX(amplitude * Math.sin(frame.time * 2 * Math.PI / period) + centerX);
      }, shapesLayer);

      anim.start();


    </script>
  </body>
</html>